"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[6222],{136222:(e,t,n)=>{n.r(t),n.d(t,{CollectionView:()=>q});var l=n(696832),a=n(15192),i=n(661410),o=n(148038),s=n(979869),c=n(62429),r=n(635164),d=n(352116),m=n(454912),u=n(778856),g=n(569917),h=n(755502),p=n(142897),E=n(731977),S=n(789304),C=n(730111),_=n(396796);const w=l.createElement(l.Fragment,null,l.createElement(C.D,null),l.createElement(_.E,null));var O,x=n(201389),D=n(421429),Z=n(869762);const b=e=>{const{translate:t}=(0,x.Z)(),[n,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(D.x,{onClick:()=>a(!0),icon:O||(O=l.createElement(p.JO,{name:"ActionDeleteOutlined"}))},t("collections_delete_button_text")),l.createElement(Z.AN,{isOpen:n,onClose:()=>a(!1),...e}))};var v;const I=e=>{const{translate:t}=(0,x.Z)(),[n,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(D.x,{onClick:()=>{(0,c.Nc)(i.PageView.CollectionEdit),a(!0)},icon:v||(v=l.createElement(p.JO,{name:"ActionEditOutlined"}))},t("_common_action_edit")),n&&l.createElement(Z.mu,{onClose:()=>a(!1),...e}))};var f;const A=({id:e,isSharedAccessDialogOpen:t,setIsSharedAccessDialogOpen:n})=>{const{translate:a}=(0,x.Z)(),{isCollectionsSharingEnabled:o}=(0,h.b)();return o?l.createElement(l.Fragment,null,l.createElement(D.x,{onClick:()=>{(0,c.Kz)(new i.UserSharingStartEvent({sharingFlowType:i.SharingFlowType.CollectionSharing,collectionId:e,origin:i.Origin.CollectionDetailView})),n(!0)},icon:f||(f=l.createElement(p.JO,{name:"SharedOutlined"}))},a("webapp_sharing_collection_access_dialog_title")),t&&l.createElement(Z.Zy,{onClose:()=>n(!1),id:e})):null};var y,F=n(668182),k=n(435683),V=n(793071),T=n(414654),J=n(61328),z=n(854536),P=n(22393),N=n(467979),U=n(410973);const W=({id:e})=>{var t;const n=(0,N.G)(),a=(0,F.k)(),{isCollectionsSharingEnabled:o}=(0,h.b)(),[s,r]=(0,T.A)(e),d=(0,U.H)(e),m=(0,k.V)(),{openDialog:u,closeDialog:g}=(0,P.R)(),{translate:E}=(0,x.Z)();return o?l.createElement(D.x,{onClick:()=>{if((0,c.Kz)(new i.UserSharingStartEvent({sharingFlowType:i.SharingFlowType.CollectionSharing,collectionId:e,origin:i.Origin.CollectionDetailView})),a){const t=!n&&r===T.z.Complete&&s?(0,V.wu)(e):(0,V.H4)(e);u(l.createElement(J.Z,{sharing:t,onDismiss:g,origin:i.Origin.CollectionDetailView}))}else u(t||(t=l.createElement(z.z,{closeDialog:g})))},icon:y||(y=l.createElement(p.JO,{name:"ActionShareOutlined"})),disabled:!d||!m},E("_common_action_share")):null},X=({isShared:e=!1,isPersonalSpaceDisabled:t,...n})=>{const[a,i]=(0,l.useState)(!1);return(0,p.tZ)(S.h,{startWidgets:()=>(0,p.tZ)(E.b,{isShared:e,spaceId:t?void 0:n.spaceId},(0,p.tZ)(p.X6,{as:"h1",textStyle:"ds.title.section.large",style:{overflow:"hidden",textOverflow:"ellipsis"}},n.name)),endWidget:(0,p.tZ)(l.Fragment,null,n?.spaceId?(0,p.tZ)(W,{id:n.id}):null,e?(0,p.tZ)(A,{id:n.id,isSharedAccessDialogOpen:a,setIsSharedAccessDialogOpen:i}):null,(0,p.tZ)(I,{isShared:e,...n}),(0,p.tZ)(b,{isShared:e,id:n.id,name:n.name,setIsSharedAccessDialogOpen:i}),w)})},H=()=>{const{translate:e}=(0,x.Z)();return(0,p.tZ)("article",{sx:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"}},(0,p.tZ)(p.JO,{name:"FolderOutlined",sx:{width:"75px",height:"auto",marginBottom:"25px"},color:"ds.text.neutral.standard"}),(0,p.tZ)(p.X6,{as:"h2",textStyle:"ds.title.section.large",sx:{maxWidth:"480px",textAlign:"center"}},e("webapp_collections_empty_view")))};var K,j;const q=()=>{var e;const{routes:t}=(0,r.Xo)(),n=`{${(0,a.UO)().collectionId}}`,{currentSpaceId:p}=(0,d.fV)(),{collections:E,sharedCollections:S,isCollectionsLoading:C,updateActiveCollection:_}=(0,h.b)(),w=(0,s.I)();if(l.useEffect((()=>((0,c.Nc)(i.PageView.CollectionDetails),()=>_(null))),[]),C||w.status!==o.rq.Success)return null;const O=(e=>t=>t.id===e)(n),x=null!=(e=E.find(O))?e:S.find(O);if(!x||null!==p&&x.spaceId!==p)return l.createElement(a.l_,{to:t.userCredentials});_(x);const{vaultItems:D,...Z}=x;return l.createElement(l.Fragment,null,l.createElement(X,{isPersonalSpaceDisabled:w.isDisabled,...Z}),D.length>0?l.createElement(u.Z,{ids:D.map((e=>e.id))},K||(K=l.createElement(g.x,null,l.createElement(m.k,null)))):j||(j=l.createElement(H,null)))}}}]);